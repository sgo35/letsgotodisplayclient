<div class="weather"
  #weather>
  <!-- <div *ngIf="cities?.length > 0">
    <mat-form-field>
      <input type="text" matInput [formControl]="searchCityControl" [matAutocomplete]="auto">
    </mat-form-field>
    
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let city of cities" [value]="city.name">{{ city.name }}, [{{ city.country }}]</mat-option>
    </mat-autocomplete>
  <div> -->
  <!-- <form (ngSubmit)="searchWeatherByCity()">
    <input type="text" matInput [(ngModel)]="city" name="city" id="city">
    <button type="submit" class="btn btn-success">Rechercher</button> -->
  <div *ngIf="weatherForecast; else noResult">
    <h2 *ngIf="weatherForecast?.city?.name">
      <i class="fas fa-map-marker-alt blue"></i> {{ weatherForecast.city.name }} <span *ngIf="weatherForecast?.city?.country" class="country">[{{weatherForecast.city.country}}]</span>
    </h2>
    <div *ngFor="let item of weatherForecast.list; let i=index"
      class="flex-container">
      <mat-card>
        <mat-card-header>
          <div mat-card-avatar
            class="example-header-image"
            [style.background-image]="getWeatherIcon(item.weather[0])"></div>
          <!-- <mat-card-title><h1>{{ getDateTime(item.dt) | date: 'EEEE d MMMM \' à \'H\'h\'' }}</h1></mat-card-title> -->
          <mat-card-title *ngIf="i === 0 || isDateDiff(weatherForecast.list[i-1].dt, item.dt)">
            <h3 class="blue">{{ getDateTime(item.dt) | date: 'EEEE d MMMM' }}</h3>
          </mat-card-title>
          <mat-card-subtitle>
            <h1>{{ getDateTime(item.dt) | date: 'H\'h\'' }}</h1>
          </mat-card-subtitle>
        </mat-card-header>
        <!-- <img mat-card-image src="{{ getImageByWeather(item.weather[0]) }}" alt="Photo of a Shiba Inu"> -->
        <mat-card-content>
          <h4>
            Température : {{ item.main.temp | number:'1.0-1' }}°C
          </h4>
          <div *ngIf="item.main.temp_min < item.main.temp_max">min : {{ item.main.temp_min | number:'1.0-1' }}°C | max
            : {{ item.main.temp_max | number:'1.0-1' }}°C</div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button>Détail...</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <ng-template #noResult>
    Sélectionner une commune...
  </ng-template>
  <!-- </form> -->

  <!-- <ul class="middle">
    <li *ngFor="let item of weatherForecast.list; let i=index">
      {{ getDateTime(item.dt) | date: 'EEEE d MMMM \' à \'H\'h\'' }}
      <img *ngIf="item?.weather?.length > 0"
        src="{{ getWeatherIcon(item.weather[0]) }}"
        alt="{{ item.weather[0].main }}"
        title="{{ item.weather[0].description }}" />
    </li>
  </ul> -->
</div>